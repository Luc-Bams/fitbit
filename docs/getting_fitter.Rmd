---
title: "Getting fitter"
author: "Luc Bams"
data: "May 9, 2019"
output:
  rmdformats::readthedown:
    self_contained: true
    thumbnails: true
    lightbox: true
    gallery: false
    highlight: espresso
    number_sections: true
---
```{r include=FALSE}
# Make sure the most recent data is loaded
source('~/R/Projects/fitbit/scripts/data_collection.R', encoding = 'UTF-8')
```

\*insert introductory section here\*  
\*make sure to come up with better titles for everything\*  

# Data
\*describe how the data were collected, stored, and what they look like\*

## Activity
\*describe activity data here\*

### Steps
```{r}
head(act_data$steps)
```

## Heart-Rate
\*describe heart-rate data here\*
```{r}
head(hr_intraday)
```

```{r}
hr_intraday %>%  
  summarise(
    minimum = min(hr),
    mean = mean(hr),
    median = median(hr),
    maximum = max(hr)
  ) %>% 
  knitr::kable(digits = 2, caption = "Summary of heart-rate data")
```

## Weight
\*describe weight data here\*

# How does getting fitter reflect in the data?  
\*obviously do a solid attempt to answer this question here\*  

## Rest Heart Rate
```{r message=FALSE}
hr_summary %>%
  ggplot(aes(x = date, y = rest_hr)) +
  geom_point() +
  geom_smooth(se = FALSE, span = 0.275) +
  labs(title = "Rest Heart Rate over Time",
       subtitle = "*this is how you make a subtitle, Luc*",
       caption = "*this is how you make a caption, Luc*")
```

```{r}
hr_intraday %>%  
  group_by(week) %>%
  summarise(
    minimum = min(hr),
    mean = mean(hr),
    median = median(hr),
    maximum = max(hr)
  ) %>% 
  gather(key = "type", value = "value", -week) %>%
  ggplot(aes(x = week, y = value)) +
  geom_point() +
  geom_line() +
  geom_smooth(method = "lm", se = FALSE) +
  facet_wrap(~ type, nrow = 2, ncol = 2, scales = "free_y")
```

## Weekly heart-rate distribution  
\*show ggridges weekly heart rate distributions here\*  

## Link steps/minute to bpm  
\*idea here is that when fitter heart rate is lower for a fixed amount of steps/min than when less fit\*  